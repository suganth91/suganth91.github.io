!function(t){function o(o){var e,n=t("<div></div>").css({width:"100%"});return o.append(n),e=o.width()-n.width(),n.remove(),e}function e(n,r){var i=n.getBoundingClientRect(),a=i.top,l=i.bottom,s=i.left,c=i.right,d=t.extend({tolerance:0,viewport:window},r),w=!1,f=d.viewport.get?d.viewport:t(d.viewport);f.length||(console.warn("isInViewport: The viewport selector you have provided matches no element on page."),console.warn("isInViewport: Defaulting to viewport as window"),f=t(window));var u=f.height(),p=f.width(),h=f.get(0).toString();if("[object Window]"!==h&&"[object DOMWindow]"!==h){var v=f.offset();a-=v.top,l-=v.top,s-=v.left,c=s+p,e.scrollBarWidth=e.scrollBarWidth||o(f),p-=e.scrollBarWidth}return d.tolerance=~~Math.round(parseFloat(d.tolerance)),d.tolerance<0&&(d.tolerance=u+d.tolerance),Math.abs(s)>=p?w:w=d.tolerance?!!(a<=d.tolerance&&l>=d.tolerance):!!(l>0&&u>=a)}t.fn.do=function(o){if(1===arguments.length&&"function"==typeof o&&(o=[o]),!(o instanceof Array))throw new SyntaxError("isInViewport: Argument(s) passed to .do should be a function or an array of functions");for(var e=0;e<o.length;e++)if("function"==typeof o[e])for(var n=0;n<this.length;n++)o[e].call(t(this[n]));else console.warn("isInViewport: Argument(s) passed to .do should be a function or an array of functions"),console.warn("isInViewport: Ignoring non-function values in array and moving on");return this},t.extend(t.expr[":"],{"in-viewport":function(t,o,n){if(n[3]){var r=n[3].split(",");return 1===r.length&&isNaN(r[0])&&(r[1]=r[0],r[0]=void 0),e(t,{tolerance:r[0]?r[0].trim():void 0,viewport:r[1]?r[1].trim():void 0})}return e(t)}})}(jQuery);